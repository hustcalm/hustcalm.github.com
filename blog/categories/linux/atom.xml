<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | Welcome to Pandora's Box]]></title>
  <link href="http://hustcalm.me/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://hustcalm.me/"/>
  <updated>2013-12-11T08:57:25+08:00</updated>
  <id>http://hustcalm.me/</id>
  <author>
    <name><![CDATA[hustcalm]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Install CentOS 6.4 minial with Grub2 and a USB Stick - The Simple Way]]></title>
    <link href="http://hustcalm.me/blog/2013/11/04/install-centos-6-dot-4-minial-with-grub2-and-a-usb-stick-the-simple-way/"/>
    <updated>2013-11-04T17:08:00+08:00</updated>
    <id>http://hustcalm.me/blog/2013/11/04/install-centos-6-dot-4-minial-with-grub2-and-a-usb-stick-the-simple-way</id>
    <content type="html"><![CDATA[<p>What a shame that I failed over and over to just install CentOS 6.4 minimal to my Desktop PC!!!</p>

<p>I got a broken Ubuntu 12.04 on my hand with a working Grub2, cheers:-) Also, I luckily have a 4 GB USB stick(who esle dosen't,kidding).</p>

<h2>The Goal</h2>

<p>Install CentOS 6.4 minial with Grub2 and a single USB stick, making no bootable USB stick, but do some tricks with the ISO file instead.</p>

<!--more-->


<h2>Preparation</h2>

<p>In a nutshell, we need a working Grub(or other bootloaders, I use Grub2), a USB Stick with a vfat or ext2 partition and CentOS ISO file.</p>

<h3>Bootloader</h3>

<p>As I have a broken Ubuntu 12.04 and a already working Grub2, I would just go on.</p>

<p>However, you have many choices due to your OS. Such as:</p>

<ul>
<li>Grub Legacy</li>
<li>Grub4dos</li>
<li>EasyBCD</li>
</ul>


<h3>ISO</h3>

<p>Download it from a mirror that's close enough to you. Check out the <a href="http://isoredirect.centos.org/centos/6/isos/x86_64/">Mirror List</a> and I choose <a href="http://mirrors.163.com/centos/6.4/isos/x86_64/">mirrors.163.com</a>.</p>

<p>Save the <code>CentOS-6.4-x86_64-minimal.iso</code> to your hard drive.</p>

<h3>USB Stick</h3>

<p>According to the CentOS wiki, the installer will recognize ext2 or vfat. I choose vfat in my case.</p>

<p>My device on my Linuxmint shows /dev/sdb and the partition shows /dev/sdb1. Just ensure that you have a VFAT partition, other things don't matter too much really.</p>

<p>To play with device and partitions, you can use <code>fdisk</code> and <code>mkfs.*</code> or other tools that you favor.</p>

<h3>Extract Files</h3>

<p>I put the ISO file under <code>~/Downloads</code>. And I follow the instructions below:</p>

<pre><code>mkdir /mnt/centos
sudo mount -o loop -t iso9660 ~/Downloads/CentOS-6.4-x86_64-minimal.iso /mnt/centos
mkdir /mnt/usbdisk
mount /dev/sdb1 /mnt/usbdisk
cp -r /mnt/centos/isolinux /mnt/centos/images /mnt/usbdisk
sudo umount /mnt/centos
cp ~/Downloads/CentOS-6.4-x86_64-minimal.iso /mnt/usbdisk
sudo umount /mnt/usbdisk
</code></pre>

<p>After this, we have <code>CentOS-6.4-x86_64-minimal.iso</code>,<code>isolinux</code> and <code>images</code> on our USB Stick.</p>

<h2>Installation</h2>

<p>Now use Grub2 to boot into CentOS installation environment and complete the installation. I have a SATA hard disk locally and do remember <strong>CentOS installer will make your local hard disk to sdb or sdc, but not sda. The USB Stick will be sda during the installation.</strong></p>

<p>To enter Grub2 command line, press <code>SHIFT</code> when your PC boots, or you may miss the menu entry due to <strong>HIDDEN_TIMEOUT</strong> configruration. Then press <code>c</code> to get a command line.</p>

<p>Then follow the instructions below, you may adjust a little to suit your own PC.</p>

<pre><code>linux (hd1,msdos1)/isolinux/vmlinuz
initrd (hd1,msdos1)/isolinux/initrd.img
boot
</code></pre>

<p>When you prompt to select <code>Installation Method</code>, use <code>Hard Drive</code> and select <code>sda1</code>, follow the routine procedures and you are done:-)</p>

<p><strong>I tried <code>URL Method</code> but failed, either <code>mirrors.163.com</code> nor <code>mirrors.sohu.com</code> would work:-(</strong></p>

<h2>Summary</h2>

<p>All the essentials reside in Grub2 and isolinux or you may say bootloader and ISO stuff. Check them out and deep it for deep is the best way to solve varies of problems related to boot, installation and rescue.</p>

<p>You may install by other methods, CD-ROW, bootable USB Stick or whatever you like.</p>

<p>Enjoy the struggling and enjoy the gain!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Playing with Xen under Centos6.4 to build your own VPS]]></title>
    <link href="http://hustcalm.me/blog/2013/10/14/playing-with-xen-under-centos6-dot-4-to-build-your-own-vps/"/>
    <updated>2013-10-14T10:28:00+08:00</updated>
    <id>http://hustcalm.me/blog/2013/10/14/playing-with-xen-under-centos6-dot-4-to-build-your-own-vps</id>
    <content type="html"><![CDATA[<p>Believe it or not, we are under an age called Cloud Computing.</p>

<p>I used to be curious about VPS(Virtual Private Server), how they work, how to build them, etc. As far as I know, AWS, GCE or whatever else solutions depend heavily on Virtualization Technologies and AWS is definitly playing with Xen currently.</p>

<p>I would like very much to have a trial for building my own VPS and blow are my steps doing it. You may need to read some basic wikis about Xen, <a href="http://wiki.xen.org/wiki/Xen_Overview">Xen Overview</a> and <a href="http://wiki.xen.org/wiki/Xen_Beginners_Guide">Xen Beginners Guide</a> should do some help:-)</p>

<!--more-->


<h2>Getting a working Dom0 on Centos6.4</h2>

<h3>Install Centos</h3>

<p>Use whatever way you like, remember a <strong>minimal install</strong> is recommended.</p>

<h3>Install Xen</h3>

<p>Thanks to <strong>Xen4Centos</strong> Project, we can get Xen installed in several simple commands(log in as root).</p>

<pre><code>yum -y update
yum install centos-release-xen
yum install xen
/usr/bin/grub-bootxen.sh
reboot
</code></pre>

<p>After your machine comes to alive, simply type:</p>

<pre><code>uname -r
xl list
</code></pre>

<p>to verify that Xen Dom0 is running.</p>

<h3>Config network</h3>

<p>I use DHCP to get a valid IP for my box and there is a trick if you can't ping each other when two machinea are in the same LAN(probably the routing table is not working for you and just delete the record from your routing table).</p>

<p>As me, for example, my laptop got a IP, say 192.168.0.10 and my VPS got 192.168.0.11, but they can't talk to each:-(</p>

<p>First, check your routing table,</p>

<pre><code>route
</code></pre>

<p>Then, delete the record that is evil,</p>

<pre><code>route del -net 192.168.0.0 netmask 255.255.255.0
</code></pre>

<p><strong>Please substitute the parameters to suite your own networking</strong>.</p>

<p>After that, ping each other,</p>

<pre><code>ping 192.168.0.11
</code></pre>

<p>to verify the networking is good to go.</p>

<p>In order to give our DomUs valid IPs, we may use a network bridge, do as follows:</p>

<pre><code>yum -y install bridge-utils
cp /etc/sysconfig/network-scripts/ifcfg-eth0 /etc/sysconfig/network-scripts/ifcfg-xenbr0
</code></pre>

<p>My modified and working scripts look like this, for ifcfg-xenbr0:</p>

<pre><code>DEVICE=xenbr0
#HWADDR=00:24:E8:46:CC:C9
TYPE=bridge
#UUID=ff0ab497-0303-4dc3-b6f3-4a6cbd90466b
ONBOOT=yes
NM_CONTROLLED=no
BOOTPROTO=dhcp
</code></pre>

<p>And for ifcfg-eth0:</p>

<pre><code>DEVICE=eth0
HWADDR=00:24:E8:46:CC:C9
TYPE=Ethernet
UUID=ff0ab497-0303-4dc3-b6f3-4a6cbd90466b
ONBOOT=yes
NM_CONTROLLED=no
#BOOTPROTO=dhcp
BRIDGE=xenbr0
</code></pre>

<p><strong>For static IP configuration, please refer to Xen wiki page!</strong></p>

<p>Then, make the configuration work:</p>

<pre><code>service network restart
</code></pre>

<p>If you got errors such as <code>error:check cable</code>, do this manualy:</p>

<pre><code>ifup xenbr0
</code></pre>

<p>Verify it works by issuing:</p>

<pre><code>ifconfig xenbr0
</code></pre>

<h3>Diable SELinux</h3>

<p>Honestly speaking, I don't know WTF the real reason to do this, but people say <code>SELinux can really interfere with Xen</code>.</p>

<pre><code>sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config
setenforce 0
</code></pre>

<p>You are good to go with a damn working Dom0 and congratulations!</p>

<h2>Bringing Your DomUs Up</h2>

<p>It's up to you to use PV or HVM, personally, I prefer to PV due to higher performance. But if you want a Windows(and other OS whose kernel can't be modified), HVM is your only choice.</p>

<p>As for me, I want 3 DomUs, namely Debian, Fedora and Arch Linux.</p>

<h3>Xen4Cli or Xen4Libvirt</h3>

<p>Xen4Cli(xm and xl, currently xm deprecated) are intended for advanced users looking to hand setup the network, the backing filestore and the xen environment. While Xen4Libvirt are for newbies looking for the easiest install path.</p>

<p>I prefer <code>xl</code> since I want to know what exactly is happening, and <code>xl</code> works for Debian and Arch Linux. However for Fedora, <code>Libvert</code> seems to be the right way(using <code>virt-install</code>).</p>

<p>To install Libvirt,</p>

<pre><code>yum install libvirt python-virtinst libvirt-daemon-xen
</code></pre>

<p>After the install, restart your Dom0 machine.</p>

<h3>File or LVM based backend</h3>

<p>Since Centos6.4 is shipped perfectly with LVM and also the default partition schema using LVM during OS Installation, I prefer <code>LVM</code>.</p>

<p>As for me, I do the following:</p>

<pre><code>lvresize -L -200G vg_centos6/lv_home -r
lvcreate -L 30G -n fedora vg_centos6
lvcreate -L 30G -n debian vg_centos6
lvcreate -L 30G -n archlinux vg_centos6
</code></pre>

<p>Then verify the Logical Volumes using:</p>

<pre><code>lvdisplay
</code></pre>

<p>Or</p>

<pre><code>lvs
</code></pre>

<p>If you are not familiar with LVM, search Google for a good tutorial first.</p>

<h3>Bridge, Routing or NAT</h3>

<p>Three networking modes are provided and choose one according to your own networking environment.</p>

<p>I got bridge working for me as described in above section.</p>

<p>For choosing other modes, you can modify <code>/etc/xen/xend-config.sxp</code> or explicitly passing as parameters when creating DomUs.</p>

<h3>Let DomUs fly</h3>

<h4>Debian</h4>

<p>I choose debian7.1 netinst.iso due to my poor bandwidth,</p>

<pre><code>wget -c http://mirrors.sohu.com/debian-cd/7.1.0/amd64/iso-cd/debian-7.1.0-amd64-netinst.iso
mount -o loop /path/to/debian-7.1.0-amd64-netinst.iso /mnt/debian
cp /mnt/debian/install.amd/xen/debian.cfg /etc/xen/
cd /etc/xen/
vi debian.cfg  ## Make modifications according to the comments
xl create -c debian.cfg
</code></pre>

<p>Then install Debian as a very normal one.</p>

<h4>Arch Linux</h4>

<p>I download archlinux-2013.10.01-dual.iso by issuing:</p>

<pre><code>wget http://mirrors.sohu.com/archlinux/iso/latest/archlinux-2013.10.01-dual.iso
</code></pre>

<p>Then create a arch.cfg file in <code>/etc/xen/</code> similar like:</p>

<pre><code># Refer to https://wiki.archlinux.org/index.php/Xen#Configuring_a_paravirtualized_.28PV.29_Arch_domU

name = "arch"
kernel = "/mnt/arch/arch/boot/x86_64/vmlinuz"
ramdisk = "/mnt/arch/arch/boot/x86_64/archiso.img"
extra = "archisobasedir=arch archisolabel=ARCH_201310"
memory = 512
disk = [ "phy:/dev/vg_centos6/archlinux,sda1,w", "file:/root/isos/arch/archlinux-2013.10.01-dual.iso,sdb,r" ]
vif = [ '' ]
</code></pre>

<p>After that, bring the DomU up by:</p>

<pre><code>mount /path/to/archlinux-2013.10.01-dual.iso /mnt/arch
cd /etc/xen/
xl create -c arch.cfg
</code></pre>

<p>Install your Arch Linux as you like since it's really a highly customized distro.</p>

<h4>Fedora</h4>

<p>Again I got Fedora-20-Alpha-x86_64-netinst.iso by issuing:</p>

<pre><code>wget http://download.fedoraproject.org/pub/fedora/linux/releases/test/20-Alpha/Fedora/x86_64/iso/Fedora-20-Alpha-x86_64-netinst.iso
</code></pre>

<p>However, nightmares begin since I want to install it using the Debian way. <code>xl</code> just fails to boot normally but <code>virt-install</code> does the job.</p>

<p>Using the <code>virt-install</code> method:</p>

<pre><code>virt-install --virt-type xen -n fedora19 -r 512 --vcpus=2 -f /dev/vg_centos6/fedora19 --location http://mirrors.163.com/fedora/releases/19/Fedora/x86_64/os/ --os-type linux --accelerate --nographics --network=bridge:xenbr0
</code></pre>

<p>Or you can download the ISO file first, then issuing your own httpd locally, thus making it:</p>

<pre><code>mount -o loop /path/to/fedora.iso /mnt/fedora
yum -y install httpd
service httpd start
ln -s /mnt/fedora /var/www/html
service iptables stop
virt-install --virt-type xen -n fedora19 -r 512 --vcpus=2 -f /dev/vg_centos6/fedora19 --location http://your.http.server.ip.address.here/ --os-type linux --accelerate --nographics --network=bridge:xenbr0
</code></pre>

<p>Remember this is for full Fedora installation, if you are using a netinst, you need to copy all the files to /var/www/html instead of creating a symbolic link and modify the .treeinfo file. No warrants here, since I did't try it myself.</p>

<h2>References</h2>

<ul>
<li><a href="http://wiki.centos.org/HowTos/Xen/Xen4QuickStart">Xen4 CentOS6 QuickStart</a></li>
<li><a href="http://wiki.centos.org/HowTos/Xen/Xen4QuickStart/Xen4Libvirt">Xen4 Libvirt for CentOS 6</a></li>
<li><a href="http://drewsymo.com/cloud-computing/install-xen-on-centos-and-create-a-fedora-debian-vm/">Install Xen 4 with Libvirt / XL on CentOS 6 (2013)</a></li>
<li><a href="http://www.howtoforge.com/virtualization-with-xen-on-centos-6.2-x86_64-paravirtualization-and-hardware-virtualization">Virtualization With Xen On CentOS 6.2 (x86_64) (Paravirtualization &amp; Hardware Virtualization)</a></li>
<li><a href="http://wiki.xen.org/wiki/Xen_Configuration_File_Options">Xen Configuration File Options</a></li>
<li><a href="http://xenbits.xen.org/docs/unstable/man/xl.cfg.5.html">XL Domain Configuration File Syntax</a></li>
<li><a href="http://wiki.xen.org/wiki/Network_Configuration_Examples_(Xen_4.1%2B">Network Configuration Examples (Xen 4.1+)</a>)</li>
<li><a href="http://wiki.xen.org/wiki/Debian_Guest_Installation_Using_Debian_Installer">Debian Guest Installation Using Debian Installer</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Xen">Xen For Arch Linux Wiki page</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Installation_Guide">Arch Linux Installation Guide</a></li>
<li><a href="http://bderzhavets.wordpress.com/2009/01/10/install-fedora-10-pv-domu-at-xen-331-centos-52-dom0-xen-330-intrepid-server-dom0-novells-xen-inified-kernel-via-local-apache-mirror/">Install Fedora 10 PV DomU at Xen 3.3.1 CentOS 5.2 Dom0 &amp; Xen 3.3.0 Intrepid Server Dom0 (Novell’s Xen-ified Kernel) via local Apache Mirror</a></li>
<li><a href="https://lists.fedoraproject.org/pipermail/xen/2012-November/005938.html">Installing a domU without virt-install Fedora-xen</a></li>
<li><a href="http://www.centos.bz/2012/03/centos-6-install-deploy-xen/">CentOS 6安装配置Xen</a></li>
<li><a href="http://www.cnblogs.com/hseagle/p/3299713.html">Archlinux 简明安装指南</a></li>
<li><a href="http://blog.csdn.net/holdsky/article/details/8497764">archlinux （2012.12.01-dual） i686 硬盘安装</a></li>
<li><a href="http://en.wikipedia.org/wiki/Xen">Xen</a></li>
<li><a href="http://wiki.xen.org/wiki/Choice_of_Toolstacks">Choice of Toolstacks</a>

<ul>
<li><a href="http://wiki.xen.org/wiki/XL_vs_Xend_Feature_Comparison">XL vs Xend Feature Comparison</a></li>
</ul>
</li>
</ul>


<hr />

<p>I do believe you will get lots of annoying problems while playing with Xen. Enjoy the problems and enjoy Xen:-)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[小记Fedora 19 Release Party和Barcamp Beijing August]]></title>
    <link href="http://hustcalm.me/blog/2013/08/24/xiao-ji-fedora-19-release-partyhe-barcamp-beijing-august/"/>
    <updated>2013-08-24T09:47:00+08:00</updated>
    <id>http://hustcalm.me/blog/2013/08/24/xiao-ji-fedora-19-release-partyhe-barcamp-beijing-august</id>
    <content type="html"><![CDATA[<p>离这两个活动已经过去一周的时间了，总觉得应该写点什么，那就以这篇“小记”来叙述吧。</p>

<p>Fedora一直以来被冠以edge bleeding的称号，尝鲜者的最爱，自己从Ubuntu 9.04开始使用Linux，便一直与其无缘，现在想想，确是有一些遗憾的（具体说不上来为啥，也许自己总是希望小众一些，Fedora在国内的用户确实不是太多，至少相比于Ubuntu来说是这样的，有限的CentOS使用经历告诉我，这是一款值得使用的Linux发行版）。Fedora 19,代号“薛定谔的猫”，作为第一款“原生”支持3D打印的操作系统，让人眼前一亮。</p>

<p>Barcamp对我来说则陌生很多，在活动的前两天才得知消息，告诉我的人说是“一个充满各种创意制作的聚会”，而实际上“这里是一个充满各种创意演讲的地方”。具体的信息，大家移步<a href="http://www.barcamp-beijing.com/">Barcamp官方网站</a>吧。</p>

<!--more-->


<h2>Fedora 19 Release Party</h2>

<p>这次RP，主要有三个议题，涉及Cloud Computing，System Trace，3D Printing。</p>

<h3>OpenShift &amp; Cloud</h3>

<p>演讲人Gerard Braad（@gbraad），Fedora 大使委员会成员，亚太地区区域导师，Fedora社区和开源社区的活跃演讲者，致力于Fedora品牌的推广。</p>

<p>OpenShift算是一种PaaS，演讲者先是就虚拟化的一些基本概念进行阐述（虚拟化的分类，典型的技术，比如KVM，LXC等），再谈到OpenStack的基本架构，之后涉及OpenShift的架构。新的概念不多，而且讲解非常深入浅出，非常适合云计算入门。</p>

<h3>SystemTap Introduction</h3>

<p>演讲人Robin Lee（李瑞彬），供职于北京蓝汛 (ChinaCache)。在 Fedora 项目中是 packager 的角色，致力于提高自由软件的质量和整合度。</p>

<p>SystemTap 是 Linux 下的可编程的通用系统跟踪工具，可进行侵入式跟踪，可用于内核态和用户态跟踪及代码注入。在 Linux 实现了大致相当于 DTrace 的功能。其语法由 AWK 语言发展出来。本次分享主要介绍了SystemTap 的基本语法和一些使用举例，最后生成火焰图（Flame Graph）的例子还是很酷的。</p>

<p>这是个纯技术话题，不多说了，我比较好奇的是Trace实现的底层原理，在网上查了下，以下两篇文章很不错：</p>

<ul>
<li><a href="http://blog.csdn.net/wudongxu/article/details/6345481">systemtap原理及使用</a></li>
<li><a href="http://xuclv.blog.51cto.com/5503169/1184517"> linux系统分析工具续-SystemTap和火焰图（Flame Graph）</a></li>
</ul>


<h3>3D Printing at Fedora 19</h3>

<p>演讲人Tong Hui（@tonghuix），开源软件与开源硬件的布道者，开源嵌入式培训导师，GNOME 基金会成员，北京GNOME用户组成员。</p>

<p>这个演讲的信息量比较大，演讲者从3D打印机的历史开始说起，谈到了3D打印的现状以及常用技术，并且简单分析了技术实现，最后结合Fedora进行了真机演示（DFRobot公司的3D打印机）。</p>

<p>我的理解是，3D打印机是嵌入式技术，3维建模技术，材料学的完美结合！</p>

<h2>Barcamp Beijing August</h2>

<p>聚会地点在Microsoft Research Asia一层，主要参与人员是国际友人，国际友人的友人，还有众多的ABC。God，谁让他们的英语都那么native呢！</p>

<p>这一天比较大的收获是，体验了Barcamp的活动形式（Speech &amp; QA），见识了演讲者的无限魅力（I really mean it!），获取了一些“创新”思维。其它的觉得表达不出来了（因为在会上，有一种略微的不适感，难以融入到老外的圈子里面去），大家等下次Barcamp的时候自己去体会吧！</p>

<p>会不会有一天也在Barcamp上演讲？（Who TM knows，可能性不大，看自己了！）。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[由安装Windows 8.1谈起，Linux和Windows多系统的安装以及分区和启动项的管理]]></title>
    <link href="http://hustcalm.me/blog/2013/07/01/you-an-zhuang-windows-8-dot-1tan-qi-%2Clinuxhe-windowsduo-xi-tong-de-an-zhuang-yi-ji-fen-qu-he-qi-dong-xiang-de-guan-li/"/>
    <updated>2013-07-01T10:54:00+08:00</updated>
    <id>http://hustcalm.me/blog/2013/07/01/you-an-zhuang-windows-8-dot-1tan-qi-,linuxhe-windowsduo-xi-tong-de-an-zhuang-yi-ji-fen-qu-he-qi-dong-xiang-de-guan-li</id>
    <content type="html"><![CDATA[<p>想想自己的Windows XP从09年寒假买了联想的小Y之后就一直在用，期间换过不少次系统，短时间用过Windows 7,也曾经在自己硬盘上安装了Windows + 4个Linux，还包括一个不成功的尝试，在小Y上尝鲜Mac OS X。大四做机器人比赛，由于开发的需要一直不敢折腾自己的电脑（很多开发工具只在Windows XP上表现良好，尤其是一些驱动），读了研究生后，启动越来越慢的XP成了一块心病，无奈懒于折腾，也习惯了XP下的一些工具和操作，当然更不能舍弃Windows这个领好的PC游戏平台！极品和仙剑，到了Linux只能止步了。</p>

<p>不过5分钟的开机启动实在是忍无可忍了，恰巧最近几天，微软放出了Windows 8.1的预览版本（叫做Windows Blue，我猜想，微软内部发布Windows的相关人员可能也喜欢看海贼王，里面的All Blue是一片神奇的海域啊，看看Windows 8.1安装过程中的鱼，更让人浮想联翩了），在把自己的Ubuntu 11.04果断替换为Linux Mint 15 RC 之后，这次再把Windows XP替换为Windows 8.1预览版！</p>

<!--more-->


<p>借着这个机会，再次总结一下关于多系统共存的一些基本问题，更多是给读者一些核心概念，关于某些具体操作，Google会给出更好的答案！Let's Go！</p>

<h2>那些年我们用过的Windows XP</h2>

<p>说真的，XP绝对是一代经典，目前仍然有很大的装机量（我猜测的），即Windows 2000之后，她俨然创造了微软发布的操作系统的一个辉煌，在当时的视觉效果，广泛的软件支持，征服了很多Windows用户。09年寒假，我入手小Y的时候，预装的是Vista，拿到机器的第一件事，就是安装XP！那个时候，番茄花园，深度，雨林木风，ghost之类的在国内大火啊！</p>

<p>现在想想，之所以一直用XP，一是因为兼容性好，绝大多数的驱动支持，丰富的第三方软件，二是因为系统较轻量级，系统资源消耗少，比较适合我的小Y（2009年的Y430,奔腾双核T4200 + G9300的独显），下面简单说说我是怎么用XP的。</p>

<h3>桌面用fences</h3>

<p>最喜欢双击后，整个世界清净了。</p>

<h3>资源管理器用Total Commander</h3>

<p>无需多言，此等神器，应该推广到每一个平台（转到Linux Mint后，发现Linux稍微能用的是muCommander，KDE下的Krusader比较强大，不过在gnome下要安装一堆Qt的库）。Twin-Panel的操作，内置的压缩解压缩支持，FTP支持，文件查看，强大的文件复制，重命名，读者如果在Windows平台下，用上这个软件会爱不释手的说！</p>

<h3>快捷键方案用AutoHotkey + Win+R + Path</h3>

<h4>AutoHotkey</h4>

<p>用AutoHotkey定义一些应用程序的全局启动快捷键，可以用很短的时间进入到自己的“工作空间”，我的一些常用设置，Win+T打开Total Commander，Win+N打开Evernote，Win+V打开Vim，Win+F打开everything，Win+K打开酷我音乐盒，Win+Q打开QQ，读者可以自行发挥想象，用较小的学习成本提高自己的操作效率。</p>

<h4>Win+R</h4>

<p>神器！简约而不简单，常用的操作完全可以在这里搞定了。我常用control进入控制面板，devmgmt.msc进入设备管理器，diskmgmt.msc进入磁盘管理，msconfig进入自启动程序的管理，main.cpl快速调整鼠标的左右手习惯（对于左手鼠标的我这个操作很常用，尤其是偶尔让别人用自己的电脑的时候），%Temp%进入系统临时文件的文件夹，X:\快速进入某个分区（X是分区代号，比如C，D，E等等），command执行自定义的一些可执行程序（一些常用的绿色软件，可以添加到Path中，在Win+R中输入程序名称可以直接调用，比如我把Foxit Reader的可执行文件命名为foxit.exe）。关于Win+R的妙用，大家还可以去看看“善用佳软”上的一些文章，更加专业具体！</p>

<h4>Path</h4>

<p>这个主要是结合Win+R使用，把自己常用的一些绿色软件统一放到一个目录下，比如在非系统盘建一个system32的文件夹，然后添加到Path中，推荐大家把Sysinternals Suit里面的实用工具添加到自己的“工具箱”中，另外的一些贴心小软件也可以放进去，比如procexp，who locks me，depency walker等等。</p>

<h3>文件搜索用Everything</h3>

<p>全硬盘文件索引，支持通配符和正则查找，用用就知道！</p>

<h3>Terminal用Cygwin的MinTTY</h3>

<p>Cygwin和MinGW应该算两个东西，前者旨在提供一个Linux的模拟环境，提供大多数下Linux的实用工具（当然也包括编译器的支持了，gcc），而后者更多的是提供一套工具链，而提供的shell是其次（我个人的理解，不喜勿喷）。两者的最大区别是，Cygwin下用gcc编译的程序不是native可以在Windows下运行的，需要一些dll的支持（尤其是cygwin1.dll，这是整个API模拟层的实现吧，当然可以通过改变编译选项脱离对这些dll的依赖，而其本质是把需要用到的接口函数链接到自己的程序内部，从而增大了程序的体积），而MinGW本质上是cross compiling，编译出来的程序可以native地运行！把MinTTY全屏，很难区分出来你是在什么平台下！</p>

<h3>ssh客户端用Putty</h3>

<p>当然可以在Cygwin里面直接跑一个ssh（可以结合screen使用），不过Putty更符合Windows用户的flavor，不多说了，开个虚拟机，通过Putty ssh过去，就是一个实实在在的Terminal了，不过相比于Cygwin，资源消耗多些（虚拟机的开销）。</p>

<h3>虚拟机用VMware</h3>

<p>不推荐用VB（VirtualBox），不是黑这个产品，而是相比而言，VMware的体验确实更好（如果不喜欢盗版，那还是用VB吧）。</p>

<h3>浏览器用Firefox + Vimperator</h3>

<p>Life Change的插件Vimperator无疑把Firefox用户牢牢抓住（如果使用Vimperator的话），直接set gui=none，你告诉别人你正在使用Chrome Book也未尝不可，一个简单的b键可以把当前打开的标签一览无余，更多关于Vimperator的东东，可以参考我之前写的<a href="http://hustcalm.me/blog/2013/06/09/firefoxli-qi-vimperatorjian-ming-gong-lue/">Firefox利器Vimperator简明攻略</a>。</p>

<p>更加Geek一些的可以考虑用Pentadactyl（和Vimperator本是同源，后来核心开发者撤出后重启炉灶，打造了它，速度更快，可定制性更强）。</p>

<p>用Chrome的用户，稍微委屈下，用Vimium吧！</p>

<h3>邮件客户端用Foxmail或者Thunderbird</h3>

<p>感觉Foxmail比较耗内存，占CPU，但是使用起来比Thunderbird舒服（个人观点）。如果使用Thunderbird，Linux，Mac OS和Windows下都有，减少了熟悉成本。</p>

<h3>IRC客户端用Firefox的插件ChatZilla</h3>

<p>大赞这个插件，打开后的窗口犹如一个本地客户端，命令式的操作效率很高，支持绝大多数主流的IRC Server。</p>

<h3>看电影用KMPlayer</h3>

<p>绿色版的，Win+R输入kmplayer即可！</p>

<h3>听音乐用douban.fm</h3>

<p>这年头，各种青年都玩豆瓣吧。</p>

<h3>小结</h3>

<p>全屏的Firefox + 全屏的MinTTY + TotalCommander + Everything，XP下的效率很高的说！实在离不开Linux，那就开个虚拟机，只要配置跟的上，全屏后犹如本地系统！电脑配置一般的，关掉虚拟机中Linux的GUI，节省一些资源，如果嫌虚拟机窗口和真机之间切换太过麻烦，那就用Putty ssh过去！</p>

<p>简单点说，Windows XP也可以很好用，经过适当打造，也不误Linux的体验！</p>

<h2>关于多系统安装的核心词汇</h2>

<p>以下的关键词，应该是安装Linux和Windows多系统的时候出现频率比较高的，根据个人的理解，罗列如下：</p>

<p>分区管理，MBR，引导分区，启动项管理，Grub，Grub Legacy，Grub2，Grub4Dos，ntloader，BootManager，BCD，EasyBCD，Windows PE，SliTaz，Puppy Linux，系统维护盘，U 盘系统，光盘启动，ISO，刻录...</p>

<h2>系统安装实例</h2>

<p>多系统安装最麻烦的就是启动项的问题，主要是由于系统安装的先后次序造成的，根据我的经验，一般比较稳妥的安装方法是，低版本的Windows到高版本的Windows，再到Linux，举个例子，你可以先安装Windows XP，然后安装Windows 7,之后安装Ubuntu。另外一个需要注意的问题是分区问题，Windows下分区限制最多4个主分区，而引导分区必须是主分区，其它的可以是逻辑分区（这里不是特别确定了，如果有误，请留言指正）。</p>

<p>下面用两个实例，讲解一下多系统的安装，顺序分别是Windows->Linux，Linux->Windows。我的硬盘的分区情况如下：</p>

<p>一个主分区(Windows所在的分区） + 一个扩展分区(Windows下分了4个逻辑分区）+ 一个Linux根分区 + 一个Swap分区。</p>

<p>更具体点，
C盘 + D盘 + E盘 + F盘 + G盘 + Linux分区 + Swap分区。</p>

<h3>在存在Windows的情况下安装Linux（光盘，U盘，硬盘）</h3>

<p>核心在于引导，这里又分为两种情况：
*   已经存在一个Linux系统，开机即可进入Grub
*   系统只有Windows</p>

<p>有Linux的情况下，直接用Grub引导，如果只有Windows，用Grub4Dos。下载需要安装的Linux的ISO镜像文件，放到Windows一个分区下（推荐放到根目录，方便后续操作），之后在Grub中挂在loop设备，设定Linux kernel和initrd后即可boot到Live CD环境，之后卸载loop设备按照常规流程安装即可！</p>

<h4>只有Windows需要安装Ubuntu</h4>

<p>在Windows给Ubuntu腾出分区，之后可以选择用光盘安装（最方便的，直接光驱启动即可），U盘安装（和光盘类似，只是需要制作U盘启动盘，有专门的制作工具），硬盘安装（用Grub4Dos，具体方法可以Google下）。</p>

<h4>在Windows XP和Ubuntu并存的情况下安装Linux Mint</h4>

<p>有了Ubuntu，就相当于有了Grub，接下来只需要正确地挂在Linux Mint的ISO镜像文件，指定kernel和initrd即可，示例如下：</p>

<pre><code>insmod loopback
loopback loop (hd0,x)/linuxmint-15-cinnamon-dvd-32bi-rc.iso
linux (loop)/casper/vmlinuz boot=casper isoscan/filename=/linuxmint-15-cinnamon-dvd-32bit-rc.iso
initrd (loop)/casper/initrd.lz
boot
</code></pre>

<p>上面的（hd0,x）是下载的ISO文件所在的分区，可以通过磁盘管理查看自行推算出，并且把ISO文件放在了分区的根目录。</p>

<h3>在存在Linux的情况下安装Windows（光盘，U盘，硬盘）</h3>

<p>Grub是Linux的专利，理论上chainloader+1引导Windows完全可行，不过前提是有ntloader（如果有错，欢迎指正）。</p>

<h4>只有Ubuntu需要安装Windows</h4>

<p>操作类似，在Ubuntu下为Windows腾出分区，之后用光盘安装或者U盘（启动到Windows PE，虚拟光驱挂载ISO，然后setup.exe），理论上将Windows的ISO文件解压后把相应位置后也可以实现硬盘引导，我对此没有太多研究，不予讨论。</p>

<h4>在Windows XP和Linux Mint共存的情况下安装Windows 8.1</h4>

<p>这里比较棘手的问题，就是安装Windows后，MBR被重写，无法找到Linux的启动项了，这时需要修复Grub！</p>

<p>U盘启动到Windows PE（推荐大家使用天意系统维护盘），虚拟光驱加载Windows 8.1的ISO文件，然后双击setup.exe开始安装，format掉Windows XP所在的分区后一路Next。</p>

<p>Windows 8.1安装成功后，开始修复Grub！由于我用的Linux Mint使用Grub2，因此需要找到一个包含Grub 2的Live CD，我用Ubuntu 12.04进入到Live CD环境下，执行以下操作：</p>

<pre><code>sudo -i
fdisk -l
mkdir /media/rescuegrub
mount /dev/sdax /media/rescuegrub
grub-install --root-directory=/media/rescuegrub /dev/sda
reboot
</code></pre>

<p>其中/dev/sdax是Linux Mint所在的根分区，如果你单独分了boot分区，还需要挂载那个分区：</p>

<pre><code>mount /dev/sday /media/rescuegrub/boot
</code></pre>

<p>重启后进入到Linux Mint，执行：</p>

<pre><code>sudo update-grub2
sudo reboot
</code></pre>

<p>此时再重启，可能会出现error no file found的情况，但是可以正常进入系统，这是由于我使用的Ubuntu 12.04的Grub版本较低，再次进入到Linux Mint，执行：</p>

<pre><code>sudo grub-install /dev/sda
sudo reboot
</code></pre>

<p>问题解决！</p>

<p>除了修复Grub，也可以使用Windows的引导管理器来引导Linux，选择Grub4Dos或者EasyBCD均可！</p>

<h2>总结</h2>

<p>多系统的安装，重点是理解了多系统并存的基本概念，也就是分区和启动项的管理，可以折腾的东西有很多，大家可以根据个人喜好选择自己的方案！需要提醒大家的是，对分区要谨慎操作，数据无价！</p>

<p>全文完，写这篇文章更多是自己的一个小总结，如果对大家有所帮助就再好不过了，有问题随时可以讨论:-)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Acronyms in Debian]]></title>
    <link href="http://hustcalm.me/blog/2013/05/01/acronyms-in-debian/"/>
    <updated>2013-05-01T23:27:00+08:00</updated>
    <id>http://hustcalm.me/blog/2013/05/01/acronyms-in-debian</id>
    <content type="html"><![CDATA[<p>Some acronyms in Debian world, confusing at first sight, hope this article can do some help:-)</p>

<h2>Roles</h2>

<ul>
<li>DPL: Debian Project Leader</li>
<li>DD: Debian Developer</li>
<li>DM: Debian Maintainer</li>
</ul>


<h2>Bugs</h2>

<ul>
<li>RFP: Request For Packaging</li>
<li>RFS: Request For Sponsor</li>
<li>ITP: Intent To Packagge</li>
</ul>


<!--more-->


<ul>
<li>RFH: Request For Help</li>
<li>RFA: Request For Adoption</li>
<li>O: Orphan</li>
<li>ITA: Intent To Adoption</li>
<li>WNPP: Work-Needing and Prospective Packages</li>
</ul>


<h2>Others</h2>

<ul>
<li>FTBFS: Failed To Build From Source</li>
<li>NMU: Non-Maintainer Upload</li>
<li>NM Process: New Maintainer Process</li>
<li>QA: Quality Assurance</li>
<li>i18n, i10n, m17n : internationalization, localization, multilingualization</li>
<li>.d.o: .debian.org</li>
<li>CVE: Common Vulnerabilities and Exposures</li>
<li>LP: launchpad</li>
</ul>


<h2>4Fun</h2>

<ul>
<li>IMHO: In My Humble Opinion</li>
<li>LOL: Laughing Out Loud</li>
</ul>


<p>If you have any to share, do leave a comment and I will add them to the article:-)</p>
]]></content>
  </entry>
  
</feed>
